<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <title>HOI4 Team & Country Assigner</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;700&family=Roboto+Condensed:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
</head>
<body>
  <h1>HOI4 Road to 56 ‚Äì Sorsol√≥</h1>

  <div class="controls-top">
    <button id="resetAllBtn">Teljes Sorsol√°s Vissza√°ll√≠t√°sa</button>
  </div>
  
  <div class="options-panel"> 
    <label for="balanceCountriesByStrength">
      <input type="checkbox" id="balanceCountriesByStrength" checked>
      Orsz√°gok er≈ëss√©galap√∫ kiegyens√∫lyoz√°sa a csapatok k√∂z√∂tt
    </label>
  </div>

  <div class="last-picked-display"> 
    Legut√≥bb: J√°t√©kos: <span id="lastPickedPlayer">-</span> | Orsz√°g: <span id="lastPickedCountry">-</span>
  </div>

  <div id="spinResultOverlay" class="spin-result-overlay">
    <div id="spunItemDisplay" class="spun-item-display">Kip√∂rgetve: -</div>
    <button id="nextSpinStepButton" class="next-spin-step-button">K√∂vetkez≈ë</button>
  </div>


  <div class="flex">
    <div class="box">
      <h2>J√°t√©kosok <span class="count-display" id="playerListCount">(0)</span></h2>
      <input id="playerName"  type="text"   placeholder="N√©v">
      <input id="playerSkill" type="number" placeholder="K√©pess√©g 1‚Äì10" min="1" max="10">
      <button id="addPlayerBtn" onclick="handlePlayerSubmit()">Hozz√°ad√°s</button>
      <ul id="playersList"></ul>
    </div>

    <div class="box">
      <h2>Orsz√°gok <span class="count-display" id="countryListCount">(0)</span></h2>
      <input id="countryName" type="text" placeholder="Orsz√°g neve">
      <input id="countryStrength" type="number" placeholder="Er≈ëss√©g 1-10" min="1" max="10"> 
      <button id="addCountryBtn" onclick="handleCountrySubmit()">Hozz√°ad√°s</button>
      <ul id="countriesList"></ul>
    </div>

    <div class="box">
      <h2>Csapatok</h2>
      <div id="teamWheelContainer" class="wheel-container">
        <div class="pointer">‚óÑ</div>
        <canvas id="teamWheel" width="250" height="250"></canvas>
      </div>
      <button id="spinTeamBtn">Csapat oszt√°s / Forgat√°s</button>
      <h3>Csapat 1 j√°t√©kosok <span class="count-display" id="team1PlayerCount">(0)</span></h3>
      <ul id="playerBasket1" class="player-basket"></ul>
      <h3>Csapat 2 j√°t√©kosok <span class="count-display" id="team2PlayerCount">(0)</span></h3>
      <ul id="playerBasket2" class="player-basket"></ul>
    </div>

    <div class="box">
      <h2>Orsz√°gok <span class="count-display" id="countryBoxCount">(0)</span></h2> <div id="countryWheelContainer" class="wheel-container">
        <div class="pointer">‚óÑ</div>
        <canvas id="countryWheel" width="250" height="250"></canvas>
      </div>
      <button id="spinCountryBtn">Orsz√°g oszt√°s / Forgat√°s</button>
      
      <div id="countryGridsContainer"> <div class="team-grid-wrapper" id="team1CountryGridWrapper"> <h3>
                Csapat 1 orsz√°gok <span class="count-display" id="team1CountryCount">(0/9)</span>
                <button class="grid-zoom-btn" data-targetwrapper="team1CountryGridWrapper" title="Nagy√≠t√°s/Kicsiny√≠t√©s">üîç</button>
              </h3>
              <div id="countrySlots1" class="basket-grid"></div>
          </div>
          <div class="team-grid-wrapper" id="team2CountryGridWrapper"> <h3>
                Csapat 2 orsz√°gok <span class="count-display" id="team2CountryCount">(0/9)</span>
                <button class="grid-zoom-btn" data-targetwrapper="team2CountryGridWrapper" title="Nagy√≠t√°s/Kicsiny√≠t√©s">üîç</button>
              </h3>
              <div id="countrySlots2" class="basket-grid"></div>
          </div>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>