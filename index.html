<!DOCTYPE html>
<html lang="hu">
  <head>
    <meta charset="UTF-8" />
    <title>UMGKL HUB</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;700&family=Roboto+Condensed:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="HOI4-Porgonc/style.css" />
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
    <style>
      :root {
        --bg-primary: #36393f; /* Discord dark gray */
        --bg-secondary: #2f3136; /* Slightly darker for header */
        --text-primary: #dcddde; /* Light gray text */
        --accent: #7289da; /* Discord blurple */
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        background: var(--bg-primary);
        color: var(--text-primary);
        font-family: "Helvetica Neue", Arial, sans-serif;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: stretch;
        text-align: center;
        padding: 0; /* Remove outer spacing so header and footer reach page edges */
      }

      header {
        background: var(--bg-secondary);
        padding-bottom: 1rem;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
        width: 100%;
      }

      .banner {
        width: 100%;
        max-height: 300px;
        object-fit: cover;
        display: block;
      }

      h1 {
        margin-top: 1rem;
        font-size: 2.5rem;
        color: var(--accent);
      }

      nav {
        margin-top: 1rem;
        display: flex;
        justify-content: center;
        gap: 1rem;
        flex-wrap: wrap;
        border-top: 1px solid #202225;
        border-bottom: 1px solid #202225;
        padding: 0.5rem 0;
      }

      nav a {
        color: var(--text-primary);
        text-decoration: none;
        padding: 0.5rem 1rem;
        border-radius: 4px;
        transition: background 0.2s;
      }

      nav a:hover,
      nav a.active {
        background: var(--accent);
        color: #fff;
      }

      main {
        flex: 1;
        padding: 2rem;
      }

      section {
        display: none;
        max-width: 800px;
        margin: 0 auto;
        text-align: left;
        line-height: 1.6;
      }

      section.active {
        display: block;
      }

      /* A HOI4 sorsol√≥ szekci√≥n√°l ne legyen sz√©less√©gkorl√°t, hogy a n√©gy doboz egym√°s mellett
         maradjon */
      #sorsolas {
        max-width: none;
      }

        footer {
          width: 100%;
          padding: 1rem;
          font-size: 0.875rem;
          background: rgb(47, 49, 54);
        }
      /* Programok szekci√≥ st√≠lusai */
      #programok .program-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 20px;
        justify-items: center;
      }

      #programok .box {
        width: 100%;
        max-width: 250px;
        text-align: center;
      }

      .program-icon {
        width: 120px;
        height: 120px;
        object-fit: contain;
        margin-bottom: 10px;
      }

      .download-btn {
        margin-top: 10px;
        padding: 0.5rem 1rem;
        background: var(--accent);
        color: #fff;
        border: none;
        border-radius: 4px;
        text-decoration: none;
        cursor: not-allowed;
      }
    </style>
  </head>
  <body>
    <header>
      <!-- Placeholder banner image -->
      <img
        src="https://via.placeholder.com/1200x300?text=Banner+k√©p"
        alt="Banner"
        class="banner"
      />
      <h1>UMGKL HUB</h1>
      <nav>
        <a href="#home" data-section="home" class="active">F≈ëoldal</a>
        <a href="#sorsolas" data-section="sorsolas">Hoi4 Sorsol√°s</a>
        <a href="#szavazas" data-section="szavazas">Szavaz√°s</a>
        <a href="#programok" data-section="programok">Programok</a>
      </nav>
    </header>

    <main>
      <!-- F≈ëoldal -->
      <section id="home" class="active">
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec a diam
          lectus. Sed sit amet ipsum mauris. Maecenas congue ligula ac quam
          viverra nec consectetur ante hendrerit. Donec et mollis dolor.
          Praesent et diam eget libero egestas mattis sit amet vitae augue.
          Nam tincidunt congue enim, ut porta lorem lacinia consectetur.
          Donec ut libero sed arcu vehicula ultricies a non tortor. Lorem ipsum
          dolor sit amet, consectetur adipiscing elit.
        </p>
      </section>

      <!-- Hoi4 Sorsol√°s -->
      <section id="sorsolas">
        <h1>HOI4 Road to 56 ‚Äì Sorsol√≥</h1>

        <div class="controls-top">
          <button id="resetAllBtn">Teljes Sorsol√°s Vissza√°ll√≠t√°sa</button>
        </div>

        <div class="options-panel">
          <label for="balanceCountriesByStrength">
            <input type="checkbox" id="balanceCountriesByStrength" checked />
            Orsz√°gok er≈ëss√©galap√∫ kiegyens√∫lyoz√°sa a csapatok k√∂z√∂tt
          </label>
        </div>

        <div class="last-picked-display">
          Legut√≥bb: J√°t√©kos: <span id="lastPickedPlayer">-</span> | Orsz√°g:
          <span id="lastPickedCountry">-</span>
        </div>

        <div id="spinResultOverlay" class="spin-result-overlay">
          <div id="spunItemDisplay" class="spun-item-display">Kip√∂rgetve: -</div>
          <button id="nextSpinStepButton" class="next-spin-step-button">
            K√∂vetkez≈ë
          </button>
        </div>

        <div class="flex">
          <div class="box">
            <h2>
              J√°t√©kosok <span class="count-display" id="playerListCount">(0)</span>
            </h2>
            <input id="playerName" type="text" placeholder="N√©v" />
            <input
              id="playerSkill"
              type="number"
              placeholder="K√©pess√©g 1‚Äì10"
              min="1"
              max="10"
            />
            <button id="addPlayerBtn" onclick="handlePlayerSubmit()">
              Hozz√°ad√°s
            </button>
            <ul id="playersList"></ul>
          </div>

          <div class="box">
            <h2>
              Orsz√°gok <span class="count-display" id="countryListCount">(0)</span>
            </h2>
            <input id="countryName" type="text" placeholder="Orsz√°g neve" />
            <input
              id="countryStrength"
              type="number"
              placeholder="Er≈ëss√©g 1-10"
              min="1"
              max="10"
            />
            <button id="addCountryBtn" onclick="handleCountrySubmit()">
              Hozz√°ad√°s
            </button>
            <ul id="countriesList"></ul>
          </div>

          <div class="box">
            <h2>Csapatok</h2>
            <div id="teamWheelContainer" class="wheel-container">
              <div class="pointer">‚óÑ</div>
              <canvas id="teamWheel" width="250" height="250"></canvas>
            </div>
            <button id="spinTeamBtn">Csapat oszt√°s / Forgat√°s</button>
            <h3>
              Csapat 1 j√°t√©kosok
              <span class="count-display" id="team1PlayerCount">(0)</span>
            </h3>
            <ul id="playerBasket1" class="player-basket"></ul>
            <h3>
              Csapat 2 j√°t√©kosok
              <span class="count-display" id="team2PlayerCount">(0)</span>
            </h3>
            <ul id="playerBasket2" class="player-basket"></ul>
          </div>

          <div class="box">
            <h2>
              Orsz√°gok <span class="count-display" id="countryBoxCount">(0)</span>
            </h2>
            <div id="countryWheelContainer" class="wheel-container">
              <div class="pointer">‚óÑ</div>
              <canvas id="countryWheel" width="250" height="250"></canvas>
            </div>
            <button id="spinCountryBtn">Orsz√°g oszt√°s / Forgat√°s</button>

            <div id="countryGridsContainer">
              <div class="team-grid-wrapper" id="team1CountryGridWrapper">
                <h3>
                  Csapat 1 orsz√°gok
                  <span class="count-display" id="team1CountryCount">(0/9)</span>
                  <button
                    class="grid-zoom-btn"
                    data-targetwrapper="team1CountryGridWrapper"
                    title="Nagy√≠t√°s/Kicsiny√≠t√©s"
                  >
                    üîç
                  </button>
                </h3>
                <div id="countrySlots1" class="basket-grid"></div>
              </div>
              <div class="team-grid-wrapper" id="team2CountryGridWrapper">
                <h3>
                  Csapat 2 orsz√°gok
                  <span class="count-display" id="team2CountryCount">(0/9)</span>
                  <button
                    class="grid-zoom-btn"
                    data-targetwrapper="team2CountryGridWrapper"
                    title="Nagy√≠t√°s/Kicsiny√≠t√©s"
                  >
                    üîç
                  </button>
                </h3>
                <div id="countrySlots2" class="basket-grid"></div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Szavaz√°s -->
      <section id="szavazas">
        <p>Tartalom hamarosan...</p>
      </section>

<!-- Programok -->
      <section id="programok">
        <div class="flex program-grid">
          <div class="box">
            <img src="program_icons/foto-apparatus.png" alt="FOTO-Appar√°tus ikon" class="program-icon" />
            <h3>FOTO-Appar√°tus</h3>
            <p>Lefot√≥zza a fitym√°dat bizonyos id≈ëk√∂z√∂nk√©nt</p>
            <button class="download-btn" disabled>Let√∂lt√©s</button>
          </div>
          <div class="box">
            <img src="program_icons/placeholder.png" alt="Program ikon" class="program-icon" />
            <h3>Program 2</h3>
            <p>Hamarosan...</p>
            <button class="download-btn" disabled>Let√∂lt√©s</button>
          </div>
          <div class="box">
            <img src="program_icons/placeholder.png" alt="Program ikon" class="program-icon" />
            <h3>Program 3</h3>
            <p>Hamarosan...</p>
            <button class="download-btn" disabled>Let√∂lt√©s</button>
          </div>
          <div class="box">
            <img src="program_icons/placeholder.png" alt="Program ikon" class="program-icon" />
            <h3>Program 4</h3>
            <p>Hamarosan...</p>
            <button class="download-btn" disabled>Let√∂lt√©s</button>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <p>¬© 2025 UMGKL HUB</p>
    </footer>

    <script>
      // Egyszer≈± kliensoldali navig√°ci√≥ a szekci√≥k k√∂z√∂tt
      document.querySelectorAll("nav a").forEach((link) => {
        link.addEventListener("click", (e) => {
          e.preventDefault();
          const target = link.dataset.section;

          // Akt√≠v nav elem friss√≠t√©se
          document
            .querySelectorAll("nav a")
            .forEach((a) => a.classList.remove("active"));
          link.classList.add("active");

          // Szekci√≥k v√°lt√°sa
          document.querySelectorAll("main section").forEach((sec) => {
            if (sec.id === target) {
              sec.classList.add("active");
            } else {
              sec.classList.remove("active");
            }
          });

          // URL hash friss√≠t√©se (opcion√°lis)
          history.pushState(null, "", `#${target}`);
        });
      });

      // Oldal bet√∂lt√©sekor a hash alapj√°n nyitjuk meg a megfelel≈ë szekci√≥t
      window.addEventListener("load", () => {
        const hash = location.hash.replace("#", "") || "home";
        const link = document.querySelector(`nav a[data-section="${hash}"]`);
        if (link) link.click();
      });
    </script>
    <script src="HOI4-Porgonc/script.js"></script>
  </body>
</html>
